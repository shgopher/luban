<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>拜占庭将军问题 | 鲁班 - 系统设计大全</title>
    <meta name="generator" content="VuePress 1.9.7">
    <link rel="shortcut icon" type="image/x-icon" href="/luban/favicon.ico">
    <meta name="description" content="一本关于系统设计基础，容器，rpc，任务编排，网关的书">
    
    <link rel="preload" href="/luban/assets/css/0.styles.0da71f4d.css" as="style"><link rel="preload" href="/luban/assets/js/app.564f1dfb.js" as="script"><link rel="preload" href="/luban/assets/js/2.1ab40292.js" as="script"><link rel="preload" href="/luban/assets/js/83.0b38e0c5.js" as="script"><link rel="prefetch" href="/luban/assets/js/10.f6f18693.js"><link rel="prefetch" href="/luban/assets/js/100.2ed1eb2a.js"><link rel="prefetch" href="/luban/assets/js/101.94822432.js"><link rel="prefetch" href="/luban/assets/js/102.1820cdcc.js"><link rel="prefetch" href="/luban/assets/js/103.6477134c.js"><link rel="prefetch" href="/luban/assets/js/104.6e0fd34d.js"><link rel="prefetch" href="/luban/assets/js/105.557b9e57.js"><link rel="prefetch" href="/luban/assets/js/106.0eee9bb3.js"><link rel="prefetch" href="/luban/assets/js/107.0df57ecc.js"><link rel="prefetch" href="/luban/assets/js/108.83422b19.js"><link rel="prefetch" href="/luban/assets/js/109.fcc1f5a3.js"><link rel="prefetch" href="/luban/assets/js/11.986d579c.js"><link rel="prefetch" href="/luban/assets/js/110.bf9ee037.js"><link rel="prefetch" href="/luban/assets/js/111.cb425c74.js"><link rel="prefetch" href="/luban/assets/js/112.240dfbd6.js"><link rel="prefetch" href="/luban/assets/js/113.622bbcca.js"><link rel="prefetch" href="/luban/assets/js/114.3757e046.js"><link rel="prefetch" href="/luban/assets/js/115.76fc2416.js"><link rel="prefetch" href="/luban/assets/js/116.fe91cd93.js"><link rel="prefetch" href="/luban/assets/js/117.57d79c60.js"><link rel="prefetch" href="/luban/assets/js/118.5c1832ea.js"><link rel="prefetch" href="/luban/assets/js/119.80d6af20.js"><link rel="prefetch" href="/luban/assets/js/12.3baa4d7d.js"><link rel="prefetch" href="/luban/assets/js/120.fd469b78.js"><link rel="prefetch" href="/luban/assets/js/121.d01b48fd.js"><link rel="prefetch" href="/luban/assets/js/122.303607ac.js"><link rel="prefetch" href="/luban/assets/js/123.8204c073.js"><link rel="prefetch" href="/luban/assets/js/124.4ce9e45a.js"><link rel="prefetch" href="/luban/assets/js/13.790d5478.js"><link rel="prefetch" href="/luban/assets/js/14.a6eea412.js"><link rel="prefetch" href="/luban/assets/js/15.5c1c3a0f.js"><link rel="prefetch" href="/luban/assets/js/16.b979e77e.js"><link rel="prefetch" href="/luban/assets/js/17.58f31afc.js"><link rel="prefetch" href="/luban/assets/js/18.45632543.js"><link rel="prefetch" href="/luban/assets/js/19.152ab4db.js"><link rel="prefetch" href="/luban/assets/js/20.225b0e5c.js"><link rel="prefetch" href="/luban/assets/js/21.726e1af8.js"><link rel="prefetch" href="/luban/assets/js/22.0303d452.js"><link rel="prefetch" href="/luban/assets/js/23.17fb887c.js"><link rel="prefetch" href="/luban/assets/js/24.b056f910.js"><link rel="prefetch" href="/luban/assets/js/25.f393a0da.js"><link rel="prefetch" href="/luban/assets/js/26.1aaa6499.js"><link rel="prefetch" href="/luban/assets/js/27.b1fde918.js"><link rel="prefetch" href="/luban/assets/js/28.e7b3e2bb.js"><link rel="prefetch" href="/luban/assets/js/29.e0f8926c.js"><link rel="prefetch" href="/luban/assets/js/3.5521afc8.js"><link rel="prefetch" href="/luban/assets/js/30.dc61385b.js"><link rel="prefetch" href="/luban/assets/js/31.c8bcea60.js"><link rel="prefetch" href="/luban/assets/js/32.7cd7a706.js"><link rel="prefetch" href="/luban/assets/js/33.86880c33.js"><link rel="prefetch" href="/luban/assets/js/34.cc406e65.js"><link rel="prefetch" href="/luban/assets/js/35.e2850063.js"><link rel="prefetch" href="/luban/assets/js/36.b05d2235.js"><link rel="prefetch" href="/luban/assets/js/37.618e13c7.js"><link rel="prefetch" href="/luban/assets/js/38.0da2a53a.js"><link rel="prefetch" href="/luban/assets/js/39.2689a5a9.js"><link rel="prefetch" href="/luban/assets/js/4.24aaae80.js"><link rel="prefetch" href="/luban/assets/js/40.aa04270c.js"><link rel="prefetch" href="/luban/assets/js/41.32bd08fe.js"><link rel="prefetch" href="/luban/assets/js/42.96d2281a.js"><link rel="prefetch" href="/luban/assets/js/43.a7db219b.js"><link rel="prefetch" href="/luban/assets/js/44.b5a0e1b9.js"><link rel="prefetch" href="/luban/assets/js/45.f481728f.js"><link rel="prefetch" href="/luban/assets/js/46.2eb47929.js"><link rel="prefetch" href="/luban/assets/js/47.a29969e4.js"><link rel="prefetch" href="/luban/assets/js/48.23edcab1.js"><link rel="prefetch" href="/luban/assets/js/49.ce927844.js"><link rel="prefetch" href="/luban/assets/js/5.f13ad9e2.js"><link rel="prefetch" href="/luban/assets/js/50.d9533583.js"><link rel="prefetch" href="/luban/assets/js/51.5e1c7012.js"><link rel="prefetch" href="/luban/assets/js/52.e03b60a4.js"><link rel="prefetch" href="/luban/assets/js/53.d8a5a656.js"><link rel="prefetch" href="/luban/assets/js/54.8437fc28.js"><link rel="prefetch" href="/luban/assets/js/55.0f7c7872.js"><link rel="prefetch" href="/luban/assets/js/56.2bd40f4c.js"><link rel="prefetch" href="/luban/assets/js/57.ef24f6a9.js"><link rel="prefetch" href="/luban/assets/js/58.69cd05ac.js"><link rel="prefetch" href="/luban/assets/js/59.9f48fe83.js"><link rel="prefetch" href="/luban/assets/js/6.b04d00c8.js"><link rel="prefetch" href="/luban/assets/js/60.304dc822.js"><link rel="prefetch" href="/luban/assets/js/61.98636fd1.js"><link rel="prefetch" href="/luban/assets/js/62.ab678a05.js"><link rel="prefetch" href="/luban/assets/js/63.0df67178.js"><link rel="prefetch" href="/luban/assets/js/64.5a439683.js"><link rel="prefetch" href="/luban/assets/js/65.5c3d3ca1.js"><link rel="prefetch" href="/luban/assets/js/66.52523e0f.js"><link rel="prefetch" href="/luban/assets/js/67.12104e80.js"><link rel="prefetch" href="/luban/assets/js/68.88b9d748.js"><link rel="prefetch" href="/luban/assets/js/69.91f3f1ba.js"><link rel="prefetch" href="/luban/assets/js/7.0102df6d.js"><link rel="prefetch" href="/luban/assets/js/70.f30ec482.js"><link rel="prefetch" href="/luban/assets/js/71.2adcf2aa.js"><link rel="prefetch" href="/luban/assets/js/72.e4fd4053.js"><link rel="prefetch" href="/luban/assets/js/73.dfbbb2c8.js"><link rel="prefetch" href="/luban/assets/js/74.f72126fa.js"><link rel="prefetch" href="/luban/assets/js/75.e5b16b78.js"><link rel="prefetch" href="/luban/assets/js/76.1ce8b107.js"><link rel="prefetch" href="/luban/assets/js/77.3dcb9c7a.js"><link rel="prefetch" href="/luban/assets/js/78.94694b0b.js"><link rel="prefetch" href="/luban/assets/js/79.87a04231.js"><link rel="prefetch" href="/luban/assets/js/8.9d478846.js"><link rel="prefetch" href="/luban/assets/js/80.42ccbc9e.js"><link rel="prefetch" href="/luban/assets/js/81.06f5122e.js"><link rel="prefetch" href="/luban/assets/js/82.755863ba.js"><link rel="prefetch" href="/luban/assets/js/84.9a1ac7ff.js"><link rel="prefetch" href="/luban/assets/js/85.548b8f9c.js"><link rel="prefetch" href="/luban/assets/js/86.c8114be9.js"><link rel="prefetch" href="/luban/assets/js/87.cb9f344c.js"><link rel="prefetch" href="/luban/assets/js/88.f6ac3fea.js"><link rel="prefetch" href="/luban/assets/js/89.4e86a321.js"><link rel="prefetch" href="/luban/assets/js/9.196d58b4.js"><link rel="prefetch" href="/luban/assets/js/90.cf6c7f4c.js"><link rel="prefetch" href="/luban/assets/js/91.c21c4f90.js"><link rel="prefetch" href="/luban/assets/js/92.e368888a.js"><link rel="prefetch" href="/luban/assets/js/93.a85d405f.js"><link rel="prefetch" href="/luban/assets/js/94.dfbece92.js"><link rel="prefetch" href="/luban/assets/js/95.58fdf774.js"><link rel="prefetch" href="/luban/assets/js/96.bad5405e.js"><link rel="prefetch" href="/luban/assets/js/97.38a2f2f5.js"><link rel="prefetch" href="/luban/assets/js/98.a6314a38.js"><link rel="prefetch" href="/luban/assets/js/99.7c1dd0e6.js">
    <link rel="stylesheet" href="/luban/assets/css/0.styles.0da71f4d.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/luban/" class="home-link router-link-active"><img src="https://avatars.githubusercontent.com/u/42873232" alt="鲁班 - 系统设计大全" class="logo"> <span class="site-name can-hide">鲁班 - 系统设计大全</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/luban/" class="nav-link">
  首页
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Menu" class="dropdown-title"><span class="title">系列教程</span> <span class="arrow down"></span></button> <button type="button" aria-label="Menu" class="mobile-dropdown-title"><span class="title">系列教程</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="https://shgopher.github.io/GOFamily/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  GOFamily 【go语言教程】
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://shgopher.github.io/408/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  408  【基础408知识教程】
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://shgopher.github.io/luban/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  luban  【系统设计教程】
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://shgopher.github.io/dingdang/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  dingdang  【工具教程】
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://shgopher.github.io/god/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  god  【给程序员写的书】
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></div></div><div class="nav-item"><a href="/luban/#wechat.png" class="nav-link">
  微信公众号
</a></div><div class="nav-item"><a href="https://shgopher.github.io/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  作者
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <a href="https://github.com/shgopher/luban" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/luban/" class="nav-link">
  首页
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Menu" class="dropdown-title"><span class="title">系列教程</span> <span class="arrow down"></span></button> <button type="button" aria-label="Menu" class="mobile-dropdown-title"><span class="title">系列教程</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="https://shgopher.github.io/GOFamily/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  GOFamily 【go语言教程】
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://shgopher.github.io/408/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  408  【基础408知识教程】
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://shgopher.github.io/luban/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  luban  【系统设计教程】
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://shgopher.github.io/dingdang/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  dingdang  【工具教程】
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://shgopher.github.io/god/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  god  【给程序员写的书】
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></div></div><div class="nav-item"><a href="/luban/#wechat.png" class="nav-link">
  微信公众号
</a></div><div class="nav-item"><a href="https://shgopher.github.io/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  作者
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <a href="https://github.com/shgopher/luban" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>拜占庭将军问题</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/luban/%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%9F%BA%E7%A1%80/%E5%88%86%E5%B8%83%E5%BC%8F/%E5%88%86%E5%B8%83%E5%BC%8F%E7%90%86%E8%AE%BA/%E6%8B%9C%E5%8D%A0%E5%BA%AD%E5%B0%86%E5%86%9B%E9%97%AE%E9%A2%98/#拜占庭将军问题算法和非拜占庭将军问题算法" class="sidebar-link">拜占庭将军问题算法和非拜占庭将军问题算法</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/luban/%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%9F%BA%E7%A1%80/%E5%88%86%E5%B8%83%E5%BC%8F/%E5%88%86%E5%B8%83%E5%BC%8F%E7%90%86%E8%AE%BA/%E6%8B%9C%E5%8D%A0%E5%BA%AD%E5%B0%86%E5%86%9B%E9%97%AE%E9%A2%98/#常见的共识算法架构" class="sidebar-link">常见的共识算法架构</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/luban/%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1%E5%9F%BA%E7%A1%80/%E5%88%86%E5%B8%83%E5%BC%8F/%E5%88%86%E5%B8%83%E5%BC%8F%E7%90%86%E8%AE%BA/%E6%8B%9C%E5%8D%A0%E5%BA%AD%E5%B0%86%E5%86%9B%E9%97%AE%E9%A2%98/#多主和无主的区别" class="sidebar-link">多主和无主的区别</a><ul class="sidebar-sub-headers"></ul></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="拜占庭将军问题">拜占庭将军问题</h1> <p>拜占庭将军将军问题讨论的核心内容是<strong>分布式共识问题</strong></p> <h2 id="拜占庭将军问题算法和非拜占庭将军问题算法">拜占庭将军问题算法和非拜占庭将军问题算法</h2> <p>***非***拜占庭拜占庭将军问题算法：</p> <ul><li>Paxos (强一致性的主备方案)</li> <li>Raft (强一致性的主备方案)</li> <li>ZAB (强一致性的主备方案)</li> <li>Gossip (最终一致性的无主方案)</li></ul> <p><strong>拜占庭将军问题算法：</strong></p> <ul><li>PBFT (强一致性的主备方案)</li> <li>Pow (最终一致性方案)</li></ul> <h2 id="常见的共识算法架构">常见的共识算法架构</h2> <p>在分布式系统中，常见的共识方案可以分为以下三大类：</p> <p><strong>主备方案 (Leader-Follower 模式)</strong></p> <p>这是最常见的一种形式，如 Raft、ZAB 等算法采用此模式</p> <ul><li>Leader 负责处理所有的写请求</li> <li>Follower 节点可以提供读服务，并作为备份节点</li></ul> <p>集群通过共识算法来保证主节点和备份节点之间的数据一致性</p> <p><strong>多主方案</strong></p> <p>Multi-Paxos 变体：支持多个主节点，每个主负责不同的值域范围，就是使用一致性哈希等分片算法组合起来的<strong>多个主备方案</strong>。</p> <p>典型例子：</p> <ul><li>MySQL 分片集群</li> <li>MongoDB 分片集群</li> <li>Redis 集群</li></ul> <p><strong>无主方案</strong></p> <p>CRDT (无主)：所有节点都可以处理写入；通过数学特性保证最终一致性；适用于协同编辑等场景。</p> <ul><li><p>Gossip 协议：</p> <ul><li>去中心化设计</li> <li>通过节点间随机通信传播更新</li> <li>用于服务发现等场景</li></ul></li> <li><p>Pow 协议：</p> <ul><li>支持对等节点设计</li> <li>可处理恶意节点</li> <li>常用于区块链系统</li></ul></li></ul> <p>方案选择考虑因素：</p> <p><strong>主备方案优势</strong>：</p> <ul><li>架构相对<strong>简单清晰</strong>，易于理解和实现。主节点负责主要的业务处理，备节点处于待命状态，在主节点出现故障时能快速接替其工作，保障系统的连续性。</li> <li><strong>数据一致性维护相对容易</strong>。通常主节点处理完业务后会将数据同步到备节点，在切换过程中能较好地保证数据状态的一致性</li> <li>系统稳定性有一定保障。备节点的存在使得即使主节点突发故障，如宕机、网络中断等，也能在较短时间内恢复服务，减少因主节点故障导致的业务中断时间</li></ul> <p><strong>主备方案劣势</strong>：</p> <ul><li><strong>资源利用率可能不高</strong>。备节点在大部分时间处于闲置状态，只在主节点故障时才发挥作用，造成了一定的硬件资源浪费。</li> <li>存在单点故障风险。虽然有备节点，但如果主节点和备节点同时出现故障 (比如遭受相同的网络攻击、硬件故障等)，系统仍可能陷入瘫痪。</li> <li>主备切换过程可能存在短暂的数据不一致或服务中断情况。</li></ul> <p><strong>多主方案优势</strong>：</p> <ul><li><strong>更好的写入性能</strong>，多个主节点可以同时处理不同的业务任务，分担了系统的工作量</li> <li>具备一定的容错能力更高的可用性。即使其中一个主节点出现故障，其他主节点仍能继续处理业务，不至于使整个系统陷入瘫痪，保障了系统的基本运行。</li> <li>可以<strong>灵活配置资源</strong>。根据业务需求和负载情况，可以灵活调整各个主节点的功能和任务分配，使系统资源得到更有效的利用。</li></ul> <p><strong>多主方案劣势</strong>：</p> <ul><li>数据一致性维护复杂。多个主节点同时处理业务，要确保它们处理的数据在整个系统中保持一致难度较大，需要复杂的同步机制和冲突处理机制。</li> <li>实现复杂度高，协调管理困难。多个主节点之间需要进行有效的协调和沟通，以确保业务的正常开展，否则可能出现任务分配不均、业务冲突等问题，增加了系统管理的复杂性。</li> <li>增加了安全风险。多个主节点意味着更多的攻击入口，更容易遭受恶意攻击，且一旦某个主节点被攻破，可能会影响到整个系统的安全和稳定。</li></ul> <p><strong>无主方案优势</strong>：</p> <ul><li>资源利用更加<strong>均衡</strong>。所有节点地位平等，都参与到业务处理中，不存在某个节点闲置等待的情况，使得系统资源得到更充分的利用。</li> <li>具有较好的<strong>可扩展性</strong>。新节点可以很容易地加入到系统中，不需要考虑与主节点的适配等问题，只需遵循系统的基本规则即可参与业务处理，便于系统的扩展和升级</li> <li>避免了单点故障问题。由于不存在主节点，也就不存在因主节点故障而导致系统瘫痪的风险，</li></ul> <p><strong>无主方案劣势</strong>：</p> <ul><li>达成共识难度大。由于没有主节点来主导决策过程，所有节点需要通过复杂的共识算法 (如 PBFT、RAFT 等) 来达成一致意见，这需要消耗大量的时间和计算资源，可能导致业务处理速度较慢。</li> <li>数据一致性维护挑战大。所有节点平等参与业务处理，要确保数据在各个节点间保持一致需要更为复杂的机制，比如分布式事务处理等，否则容易出现数据不一致的情况。</li> <li>系统管理和监控相对复杂。没有主节点作为核心监控和管理对象，需要对所有节点进行全面的监控和管理，增加了系统管理和监控的难度和工作量。</li></ul> <p>实际选择时需要根据业务场景在 CAP 三者间做出权衡，选择最适合的方案。</p> <h2 id="多主和无主的区别">多主和无主的区别</h2> <p>如果所有节点都是对等的，都可以处理写请求，这种是无主 (Leaderless) 架构，而不是多主。典型的就是 Gossip 协议，和</p> <p>也就是说，多主，并不是所有节点完全平等，有多个主节点，每个主节点下都可能有自己的备份节点，主节点之间是对等的，都可以处理写请求，<strong>每个主节点通常负责不同的数据范围</strong></p> <p><strong>多主就等于多个主从，然后使用一致性哈希等算法，划片儿治理的意思</strong></p></div> <footer class="page-edit"><div class="edit-link"><a href="https://github.com/shgopher/luban/edit/release/系统设计基础/分布式/分布式理论/拜占庭将军问题/README.md" target="_blank" rel="noopener noreferrer">在GitHub中编辑</a> <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></div> <div class="last-updated"><span class="prefix">最后更新:</span> <span class="time">11/5/2024, 5:03:45 AM</span></div></footer> <!----> </main></div><div class="global-ui"><!----></div></div>
    <script src="/luban/assets/js/app.564f1dfb.js" defer></script><script src="/luban/assets/js/2.1ab40292.js" defer></script><script src="/luban/assets/js/83.0b38e0c5.js" defer></script>
  </body>
</html>
